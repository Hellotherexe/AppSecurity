@{
    ViewData["Title"] = "Password Reset Email Sent";
}

<div class="row">
    <div class="col-md-6 offset-md-3">
        <div class="card shadow">
            <div class="card-header bg-success text-white">
                <h2 class="mb-0"><i class="bi bi-check-circle"></i> Email Sent</h2>
            </div>
            <div class="card-body text-center">
                @if (TempData["SuccessMessage"] != null)
                {
                    <div class="alert alert-success">
                        <i class="bi bi-envelope-check" style="font-size: 3rem;"></i>
                        <p class="mt-3 mb-0">@TempData["SuccessMessage"]</p>
                    </div>
                }

                <p class="text-muted mt-3">
                    Please check your inbox and click the reset link. The link will expire in 24 hours.
                </p>

                @* TESTING ONLY - Display reset link directly *@
                @if (TempData["ResetUrl"] != null)
                {
                    <div class="alert alert-warning mt-4" role="alert">
                        <h5><i class="bi bi-exclamation-triangle"></i> TESTING MODE - Link Below</h5>
                        <p><strong>Email:</strong> @TempData["Email"]</p>
                        <p class="mb-2"><strong>Since emails aren't being sent, click this link:</strong></p>
                        <a href="@TempData["ResetUrl"]" class="btn btn-primary">
                            <i class="bi bi-key"></i> Reset Password Now
                        </a>
                        <hr />
                        <small class="text-muted">Or copy this URL:</small>
                        <div class="bg-light p-2 mt-2" style="word-break: break-all; font-family: monospace; font-size: 12px;">
                            @TempData["ResetUrl"]
                        </div>
                        <small class="text-danger d-block mt-2">
                            ?? Remove this in production! Emails should be sent via SMTP.
                        </small>
                    </div>
                }

                <hr />

                <a asp-action="Login" class="btn btn-primary">
                    <i class="bi bi-box-arrow-in-right"></i> Return to Login
                </a>
            </div>
        </div>
    </div>
</div>
